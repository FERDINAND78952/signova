<!DOCTYPE html>
{% load static %}
{% load custom_filters %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signova - Learn Sign Language</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'css/learn.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container">
            <a href="{% url 'index' %}" class="logo">
                <img src="{% static 'images/signova-full.svg' %}" alt="Signova Logo">
                <h1>Signova</h1>
            </a>
            <div class="auth-links">
                <a href="#">Log in</a>
                <a href="#">Sign up</a>
            </div>
        </div>
    </header>

    <main class="learn-container">
        <h1>Learn Sign Language</h1>
        <p class="learn-intro">Watch these videos to learn common signs. Practice them with our translation tool!</p>

        <div class="video-selection">
            <h2>Select a sign to learn:</h2>
            <div class="video-grid">
                {% for video in videos %}
                <div class="video-card" data-video="{{ video }}">
                    <div class="video-thumbnail">
                        <img src="{% static 'images/video-thumbnail.svg' %}" alt="Video thumbnail">
                    </div>
                    <h3>{{ video|replace:"_,"|title }}</h3>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="video-player" style="display: none;">
            <div class="video-container">
                <img id="videoStream" src="" alt="Sign language video">
            </div>
            <div class="video-controls">
                <h2 id="videoTitle">Sign Name</h2>
                <div class="control-buttons">
                    <button id="replayVideo" class="btn btn-primary">Replay</button>
                    <button id="backToList" class="btn btn-secondary">Back to List</button>
                </div>
                <div class="video-description">
                    <h3>Description</h3>
                    <p id="videoDescription">Learn how to sign this word by following the movements shown in the video.</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Signova. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const videoCards = document.querySelectorAll('.video-card');
            const videoSelection = document.querySelector('.video-selection');
            const videoPlayer = document.querySelector('.video-player');
            const videoStream = document.getElementById('videoStream');
            const videoTitle = document.getElementById('videoTitle');
            const videoDescription = document.getElementById('videoDescription');
            const replayButton = document.getElementById('replayVideo');
            const backButton = document.getElementById('backToList');
            
            let currentVideo = '';
            
            // Video descriptions
            const descriptions = {
                'hello': 'Wave your hand with palm facing outward in a greeting motion.',
                'how_are_you': 'Point to the other person, then make a questioning gesture.',
                'forget': 'Brush your fingers across your forehead from right to left.',
                'remember': 'Touch your temple with your index finger and then move it forward.',
                'i_want': 'Point to yourself and then make a pulling motion toward yourself.',
                'my_name_is': 'Point to yourself, then make the sign for "name" by tapping your index fingers together.',
                'thank_you': 'Touch your lips with your fingertips and then move your hand outward.',
                'same_to_you': 'Point to the other person and then make the sign for "same".',
                'you': 'Point directly at the person you are addressing.'
            };
            
            // Add click event to each video card
            videoCards.forEach(card => {
                card.addEventListener('click', function() {
                    const videoName = this.getAttribute('data-video');
                    currentVideo = videoName;
                    
                    // Update video player
                    videoStream.src = "{% url 'video' %}" + videoName;
                    videoTitle.textContent = videoName.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase());
                    videoDescription.textContent = descriptions[videoName] || 'Learn this sign by following the video.';
                    
                    // Show video player, hide selection
                    videoSelection.style.display = 'none';
                    videoPlayer.style.display = 'flex';
                });
            });
            
            // Replay button
            replayButton.addEventListener('click', function() {
                videoStream.src = "{% url 'video' %}" + currentVideo;
            });
            
            // Back button
            backButton.addEventListener('click', function() {
                videoPlayer.style.display = 'none';
                videoSelection.style.display = 'block';
            });
        });
    </script>
</body>
</html>